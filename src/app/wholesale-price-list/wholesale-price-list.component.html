<div class="wholesale-container">
  <h2>Lista de Precios Mayorista</h2>

  <div *ngIf="loading" class="loading">
    <i class="fas fa-spinner fa-spin"></i> Cargando lista de precios...
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <div *ngIf="!loading && !error" class="content">
    <div class="actions">
      <button (click)="downloadPdf()" class="btn-download">
        <i class="fas fa-file-pdf"></i> Descargar PDF
      </button>
    </div>

    <div class="table-container">
      <table class="price-table">
        <thead>
          <tr>
            <th>Producto</th>
            <th>Categor√≠a</th>
            <th>Precio Regular</th>
            <th colspan="2">Nivel 1</th>
            <th colspan="2">Nivel 2</th>
          </tr>
          <tr>
            <th></th>
            <th></th>
            <th></th>
            <th>Cantidad</th>
            <th>Precio</th>
            <th>Cantidad</th>
            <th>Precio</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products">
            <td>{{ product.name }}</td>
            <td>{{ product.category_name }}</td>
            <td>{{ product.price | currency:'USD' }}</td>
            <td>{{ product.tier1Quantity }}+</td>
            <td>{{ product.tier1Price | currency:'USD' }}</td>
            <td>{{ product.tier2Quantity }}+</td>
            <td>{{ product.tier2Price | currency:'USD' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <app-wholesale-price-list-pdf-generator
    [products]="products"
    #pdfGenerator>
  </app-wholesale-price-list-pdf-generator>
</div>